"use strict";exports.__esModule=!0;var player1Name,player2Name,menu=document.querySelector(".menu"),field=document.querySelector(".field"),gameDiv=document.querySelector(".gameDiv"),gameDivBot=document.querySelector(".gameDivBot"),form=document.querySelector(".form"),player1=document.querySelector("#player1"),player2=document.querySelector("#player2"),player1GameName=document.querySelector("#player1Name"),player2GameName=document.querySelector("#player2Name"),fieldies=document.querySelectorAll(".fieldy"),fieldiesBot=document.querySelectorAll(".fieldyBot"),winningCombos=[[1,2,3],[4,5,6],[7,8,9],[1,4,7],[2,5,8],[3,6,9],[1,5,9],[3,5,7]],restartBtn=document.querySelector("#restartBtn"),resetBtn=document.querySelector("#resetBtn"),botStart=document.querySelector(".botButton"),currentComboX=[],currentComboO=[],currentSymbol="X",activePlayer="";function handlePlayerMoveBot(e){var t=e.target;""===t.textContent?(t.innerText=currentSymbol,updateCombos(t),currentSymbol="X"===currentSymbol?"O":"X",localStorage.setItem("activePlayer",JSON.stringify(currentSymbol)),swapPlayers(),saveData()):alert("This one is taken!"),console.log(1),checkPossibleWin(currentComboO),"O"===currentSymbol&&(console.log(2),checkPossibleWin(currentComboX)),"O"===currentSymbol&&(console.log(3),buildCombo())}function checkPossibleWin(e){(null==e?void 0:e.includes(1))?e.includes(2)&&!fieldiesBot[3].innerText?setTimeout((function(){handleBotMove(3)}),600):e.includes(3)&&!fieldiesBot[2].innerText?setTimeout((function(){handleBotMove(2)}),600):e.includes(4)&&!fieldiesBot[7].innerText?setTimeout((function(){handleBotMove(7)}),600):e.includes(7)&&!fieldiesBot[4].innerText?setTimeout((function(){handleBotMove(4)}),600):e.includes(5)&&!fieldiesBot[9].innerText?setTimeout((function(){handleBotMove(9)}),600):e.includes(9)&&!fieldiesBot[5].innerText&&setTimeout((function(){handleBotMove(5)}),600):(null==e?void 0:e.includes(2))?e.includes(3)&&!fieldiesBot[1].innerText?setTimeout((function(){handleBotMove(1)}),600):e.includes(5)&&!fieldiesBot[8].innerText?setTimeout((function(){handleBotMove(8)}),600):e.includes(8)&&!fieldiesBot[5].innerText&&setTimeout((function(){handleBotMove(5)}),600):(null==e?void 0:e.includes(3))?e.includes(6)&&!fieldiesBot[9].innerText?setTimeout((function(){handleBotMove(9)}),600):e.includes(9)&&!fieldiesBot[6].innerText?setTimeout((function(){handleBotMove(6)}),600):e.includes(5)&&!fieldiesBot[7].innerText?setTimeout((function(){handleBotMove(7)}),600):e.includes(7)&&!fieldiesBot[5].innerText&&setTimeout((function(){handleBotMove(5)}),600):(null==e?void 0:e.includes(4))?e.includes(5)&&!fieldiesBot[6].innerText?setTimeout((function(){handleBotMove(6)}),600):e.includes(6)&&!fieldiesBot[5].innerText?setTimeout((function(){handleBotMove(5)}),600):e.includes(7)&&!fieldiesBot[1].innerText&&setTimeout((function(){handleBotMove(1)}),600):(null==e?void 0:e.includes(5))?e.includes(6)&&!fieldiesBot[4].innerText?setTimeout((function(){handleBotMove(4)}),600):e.includes(8)&&!fieldiesBot[2].innerText?setTimeout((function(){handleBotMove(2)}),600):e.includes(9)&&!fieldiesBot[1].innerText?setTimeout((function(){handleBotMove(1)}),600):e.includes(7)&&!fieldiesBot[3].innerText&&setTimeout((function(){handleBotMove(3)}),600):(null==e?void 0:e.includes(6))?e.includes(9)&&!fieldiesBot[3].innerText&&setTimeout((function(){handleBotMove(3)}),600):(null==e?void 0:e.includes(7))?e.includes(8)&&!fieldiesBot[9].innerText?setTimeout((function(){handleBotMove(9)}),600):e.includes(9)&&!fieldiesBot[8].innerText&&setTimeout((function(){handleBotMove(8)}),600):(null==e?void 0:e.includes(8))&&e.includes(9)&&!fieldiesBot[7].innerText&&setTimeout((function(){handleBotMove(7)}),600)}function buildCombo(){fieldiesBot[4].innerText?fieldiesBot[0].innerText?fieldiesBot[2].innerText?fieldiesBot[6].innerText?fieldiesBot[8].innerText||setTimeout((function(){handleBotMove(8)}),600):setTimeout((function(){handleBotMove(6)}),600):setTimeout((function(){handleBotMove(2)}),600):setTimeout((function(){handleBotMove(0)}),600):setTimeout((function(){handleBotMove(4)}),600)}function handleBotMove(e){fieldiesBot[e].innerText=currentSymbol,updateCombos(fieldiesBot[e]),currentSymbol="X"===currentSymbol?"O":"X",localStorage.setItem("activePlayer",JSON.stringify(currentSymbol)),swapPlayers(),saveData()}function startBotGame(){showField(gameDivBot)}function reset(){var e=localStorage.getItem("player1")||"Player II";player1Name=localStorage.getItem("player2")||"Player I",player2Name=e||"Player II",localStorage.removeItem("playerX"),localStorage.removeItem("playerO"),localStorage.removeItem("activePlayer"),localStorage.setItem("player1",player1Name),localStorage.setItem("player2",player2Name),location.reload()}function restart(){localStorage.clear(),location.reload()}function paintSaved(e,t){fieldies.forEach((function(o){o.dataset.id&&t.includes(+o.dataset.id)&&(o.innerText=e)}))}function saveData(){localStorage.setItem("playerX",JSON.stringify(currentComboX)),localStorage.setItem("playerO",JSON.stringify(currentComboO))}function checkForVictory(e){winningCombos.find((function(t){return t.every((function(t){return e.includes(t)}))}))?confirm("Victory! One more round?")?reset():restart():checkForNoMoves()}function checkForNoMoves(){4!==currentComboO.length||5!==currentComboX.length||(confirm("Oh no, no more moves! Reset?")?reset():restart())}function handlePlayerMove(e){var t=e.target;""===t.textContent?(t.innerText=currentSymbol,updateCombos(t),currentSymbol="X"===currentSymbol?"O":"X",localStorage.setItem("activePlayer",JSON.stringify(currentSymbol)),swapPlayers(),saveData()):alert("This one is taken!")}function updateCombos(e){"X"===currentSymbol?(currentComboX.push(Number(e.dataset.id)),currentComboX.length>2&&setTimeout((function(){return checkForVictory(currentComboX)}),0)):(currentComboO.push(Number(e.dataset.id)),currentComboO.length>2&&setTimeout((function(){return checkForVictory(currentComboO)}),0))}function swapPlayers(){activePlayer=""===activePlayer||player1Name?player2Name:player1Name,null==player1GameName||player1GameName.classList.toggle("active-player"),null==player2GameName||player2GameName.classList.toggle("active-player")}function handleSubmit(e){e.preventDefault(),player1Name=(null==player1?void 0:player1.value)||"Player I",player2Name=(null==player2?void 0:player2.value)||"Player II",localStorage.setItem("player1",player1Name),localStorage.setItem("player2",player2Name),showField(gameDiv),setPlayers(player1Name,player2Name)}function setPlayers(e,t){player1GameName&&player2GameName&&(player1GameName.innerText="PlayerX: ".concat(e),player2GameName.innerText="PlayerO: ".concat(t))}function showField(e){null==menu||menu.classList.add("visually-hidden"),null==e||e.classList.remove("visually-hidden")}form&&form.addEventListener("submit",handleSubmit),fieldies.forEach((function(e){e.addEventListener("click",handlePlayerMove)})),fieldiesBot.forEach((function(e){e.addEventListener("click",handlePlayerMoveBot)})),null==resetBtn||resetBtn.addEventListener("click",reset),null==restartBtn||restartBtn.addEventListener("click",(function(){confirm("Are you sure you want to restart?")&&restart()})),null==botStart||botStart.addEventListener("click",startBotGame),function(){var e=localStorage.getItem("playerX");e&&paintSaved("X",currentComboX=JSON.parse(e));var t=localStorage.getItem("playerO");t&&paintSaved("O",currentComboO=JSON.parse(t));var o=localStorage.getItem("player1"),n=localStorage.getItem("player2");o&&n&&(setPlayers(o,n),showField(gameDiv));var l=localStorage.getItem("activePlayer");l&&(currentSymbol=JSON.parse(l))}();
//# sourceMappingURL=index.9b9cd911.js.map
