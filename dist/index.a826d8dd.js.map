{"mappings":"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","sources":["src/index.js"],"sourcesContent":["\"use strict\";\r\nexports.__esModule = true;\r\nexports.stuf = void 0;\r\nexports.stuf = [];\r\nvar menu = document.querySelector(\".menu\");\r\nvar field = document.querySelector(\".field\");\r\nvar gameDiv = document.querySelector(\".gameDiv\");\r\nvar form = document.querySelector(\".form\");\r\nvar player1 = document.querySelector(\"#player1\");\r\nvar player2 = document.querySelector(\"#player2\");\r\nvar player1GameName = document.querySelector(\"#player1Name\");\r\nvar player2GameName = document.querySelector(\"#player2Name\");\r\nvar fieldies = document.querySelectorAll(\".fieldy\");\r\nvar winningCombos = [\r\n    [1, 2, 3],\r\n    [4, 5, 6],\r\n    [7, 8, 9],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [3, 6, 9],\r\n    [1, 5, 9],\r\n    [3, 5, 7],\r\n];\r\nvar restartBtn = document.querySelector(\"#restartBtn\");\r\nvar resetBtn = document.querySelector(\"#resetBtn\");\r\nvar currentComboX = [];\r\nvar currentComboO = [];\r\nvar currentSymbol = \"X\";\r\nvar activePlayer = \"\";\r\nvar player1Name;\r\nvar player2Name;\r\nif (form)\r\n    form.addEventListener(\"submit\", handleSubmit);\r\nfieldies.forEach(function (fieldy) {\r\n    fieldy.addEventListener(\"click\", handlePlayerMove);\r\n});\r\nresetBtn === null || resetBtn === void 0 ? void 0 : resetBtn.addEventListener(\"click\", reset);\r\nrestartBtn === null || restartBtn === void 0 ? void 0 : restartBtn.addEventListener(\"click\", function () {\r\n    if (confirm(\"Are you sure you want to restart?\"))\r\n        restart();\r\n});\r\n(function checkSaves() {\r\n    var currentSaveX = localStorage.getItem(\"playerX\");\r\n    if (currentSaveX) {\r\n        currentComboX = JSON.parse(currentSaveX);\r\n        paintSaved(\"X\", currentComboX);\r\n    }\r\n    var currentSaveO = localStorage.getItem(\"playerO\");\r\n    if (currentSaveO) {\r\n        currentComboO = JSON.parse(currentSaveO);\r\n        paintSaved(\"O\", currentComboO);\r\n    }\r\n    var name1 = localStorage.getItem(\"player1\");\r\n    var name2 = localStorage.getItem(\"player2\");\r\n    if (name1 && name2) {\r\n        setPlayers(name1, name2);\r\n        showField();\r\n    }\r\n    var savedActive = localStorage.getItem(\"activePlayer\");\r\n    if (savedActive)\r\n        currentSymbol = JSON.parse(savedActive);\r\n})();\r\nfunction reset() {\r\n    var placeholderName = localStorage.getItem(\"player1\") || \"Player2\";\r\n    player1Name = localStorage.getItem(\"player2\") || \"Player1\";\r\n    player2Name = placeholderName || \"Player2\";\r\n    localStorage.removeItem(\"playerX\");\r\n    localStorage.removeItem(\"playerO\");\r\n    localStorage.removeItem(\"activePlayer\");\r\n    localStorage.setItem(\"player1\", player1Name);\r\n    localStorage.setItem(\"player2\", player2Name);\r\n    location.reload();\r\n}\r\nfunction restart() {\r\n    localStorage.clear();\r\n    location.reload();\r\n}\r\nfunction paintSaved(N, arr) {\r\n    fieldies.forEach(function (fieldy) {\r\n        if (fieldy.dataset.id && arr.includes(+fieldy.dataset.id)) {\r\n            fieldy.innerText = N;\r\n        }\r\n    });\r\n}\r\nfunction saveData() {\r\n    localStorage.setItem(\"playerX\", JSON.stringify(currentComboX));\r\n    localStorage.setItem(\"playerO\", JSON.stringify(currentComboO));\r\n}\r\nfunction checkForVictory(arr) {\r\n    var victory = winningCombos.find(function (combo) {\r\n        return combo.every(function (num) { return arr.includes(num); });\r\n    });\r\n    if (victory) {\r\n        var wantsMore = confirm(\"Victory! One more round?\");\r\n        if (wantsMore)\r\n            reset();\r\n        else\r\n            restart();\r\n    }\r\n    else\r\n        checkForNoMoves();\r\n}\r\nfunction checkForNoMoves() {\r\n    if (currentComboO.length === 4 && currentComboX.length === 5) {\r\n        var wantsReset = confirm(\"Oh no, no more moves! Reset?\");\r\n        wantsReset ? reset() : restart();\r\n        return;\r\n    }\r\n}\r\nfunction handlePlayerMove(e) {\r\n    var target = e.target;\r\n    if (target.textContent === \"\") {\r\n        target.innerText = currentSymbol;\r\n        updateCombos(target);\r\n        currentSymbol = currentSymbol === \"X\" ? \"O\" : \"X\";\r\n        localStorage.setItem(\"activePlayer\", JSON.stringify(currentSymbol));\r\n        swapPlayers();\r\n        saveData();\r\n    }\r\n    else {\r\n        alert(\"This one is taken!\");\r\n    }\r\n}\r\nfunction updateCombos(target) {\r\n    if (currentSymbol === \"X\") {\r\n        currentComboX.push(Number(target.dataset.id));\r\n        if (currentComboX.length > 2)\r\n            setTimeout(function () { return checkForVictory(currentComboX); }, 0);\r\n    }\r\n    else {\r\n        currentComboO.push(Number(target.dataset.id));\r\n        if (currentComboO.length > 2)\r\n            setTimeout(function () { return checkForVictory(currentComboO); }, 0);\r\n    }\r\n}\r\nfunction swapPlayers() {\r\n    if (activePlayer === \"\" || player1Name) {\r\n        activePlayer = player2Name;\r\n    }\r\n    else {\r\n        activePlayer = player1Name;\r\n    }\r\n    player1GameName === null || player1GameName === void 0 ? void 0 : player1GameName.classList.toggle(\"active-player\");\r\n    player2GameName === null || player2GameName === void 0 ? void 0 : player2GameName.classList.toggle(\"active-player\");\r\n}\r\nfunction handleSubmit(e) {\r\n    e.preventDefault();\r\n    player1Name = (player1 === null || player1 === void 0 ? void 0 : player1.value) || \"Player1\";\r\n    player2Name = (player2 === null || player2 === void 0 ? void 0 : player2.value) || \"Player2\";\r\n    localStorage.setItem(\"player1\", player1Name);\r\n    localStorage.setItem(\"player2\", player2Name);\r\n    showField();\r\n    setPlayers(player1Name, player2Name);\r\n}\r\nfunction setPlayers(name1, name2) {\r\n    if (player1GameName && player2GameName) {\r\n        player1GameName.innerText = \"PlayerX: \".concat(name1);\r\n        player2GameName.innerText = \"PlayerO: \".concat(name2);\r\n    }\r\n}\r\nfunction showField() {\r\n    menu === null || menu === void 0 ? void 0 : menu.classList.add(\"visually-hidden\");\r\n    gameDiv === null || gameDiv === void 0 ? void 0 : gameDiv.classList.remove(\"visually-hidden\");\r\n}\r\n"],"names":["exports","__esModule","stuf","player1Name","player2Name","menu","document","querySelector","field","gameDiv","form","player1","player2","player1GameName","player2GameName","fieldies","querySelectorAll","winningCombos","restartBtn","resetBtn","currentComboX","currentComboO","currentSymbol","activePlayer","reset","placeholderName","localStorage","getItem","removeItem","setItem","location","reload","restart","clear","paintSaved","N","arr","forEach","fieldy","dataset","id","includes","innerText","saveData","JSON","stringify","checkForVictory","find","combo","every","num","confirm","checkForNoMoves","length","handlePlayerMove","e","target","textContent","updateCombos","swapPlayers","alert","push","Number","setTimeout","classList","toggle","handleSubmit","preventDefault","value","showField","setPlayers","name1","name2","concat","add","remove","addEventListener","currentSaveX","parse","currentSaveO","savedActive"],"version":3,"file":"index.a826d8dd.js.map"}