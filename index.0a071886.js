"use strict";exports.__esModule=!0,exports.stuf=void 0,exports.stuf=[];var player1Name,player2Name,menu=document.querySelector(".menu"),field=document.querySelector(".field"),gameDiv=document.querySelector(".gameDiv"),form=document.querySelector(".form"),player1=document.querySelector("#player1"),player2=document.querySelector("#player2"),player1GameName=document.querySelector("#player1Name"),player2GameName=document.querySelector("#player2Name"),fieldies=document.querySelectorAll(".fieldy"),winningCombos=[[1,2,3],[4,5,6],[7,8,9],[1,4,7],[2,5,8],[3,6,9],[1,5,9],[3,5,7]],restartBtn=document.querySelector("#restartBtn"),resetBtn=document.querySelector("#resetBtn"),currentComboX=[],currentComboO=[],currentSymbol="X",activePlayer="";function reset(){var e=localStorage.getItem("player1")||"Player2";player1Name=localStorage.getItem("player2")||"Player1",player2Name=e||"Player2",localStorage.removeItem("playerX"),localStorage.removeItem("playerO"),localStorage.removeItem("activePlayer"),localStorage.setItem("player1",player1Name),localStorage.setItem("player2",player2Name),location.reload()}function restart(){localStorage.clear(),location.reload()}function paintSaved(e,r){fieldies.forEach((function(a){a.dataset.id&&r.includes(+a.dataset.id)&&(a.innerText=e)}))}function saveData(){localStorage.setItem("playerX",JSON.stringify(currentComboX)),localStorage.setItem("playerO",JSON.stringify(currentComboO))}function checkForVictory(e){winningCombos.find((function(r){return r.every((function(r){return e.includes(r)}))}))?setTimeout((function(){confirm("Victory! One more round?")?reset():restart()}),0):checkForNoMoves()}function checkForNoMoves(){4===currentComboO.length&&5===currentComboX.length&&setTimeout((function(){confirm("Oh no, no more moves! Reset?")?reset():restart()}),0)}function handlePlayerMove(e){var r=e.target;r.removeEventListener("click",handlePlayerMove),r.innerText=currentSymbol,updateCombos(r),currentSymbol="X"===currentSymbol?"O":"X",localStorage.setItem("activePlayer",JSON.stringify(currentSymbol)),swapPlayers(),saveData()}function updateCombos(e){"X"===currentSymbol?(currentComboX.push(Number(e.dataset.id)),currentComboX.length>2&&checkForVictory(currentComboX)):(currentComboO.push(Number(e.dataset.id)),currentComboO.length>2&&checkForVictory(currentComboO))}function swapPlayers(){activePlayer=""===activePlayer||player1Name?player2Name:player1Name,null==player1GameName||player1GameName.classList.toggle("active-player"),null==player2GameName||player2GameName.classList.toggle("active-player")}function handleSubmit(e){e.preventDefault(),player1Name=(null==player1?void 0:player1.value)||"Player1",player2Name=(null==player2?void 0:player2.value)||"Player2",localStorage.setItem("player1",player1Name),localStorage.setItem("player2",player2Name),showField(),setPlayers(player1Name,player2Name)}function setPlayers(e,r){player1GameName&&player2GameName&&(player1GameName.innerText=e,player2GameName.innerText=r)}function showField(){null==menu||menu.classList.add("visually-hidden"),null==gameDiv||gameDiv.classList.remove("visually-hidden")}form&&form.addEventListener("submit",handleSubmit),fieldies.forEach((function(e){e.addEventListener("click",handlePlayerMove)})),null==resetBtn||resetBtn.addEventListener("click",reset),null==restartBtn||restartBtn.addEventListener("click",(function(){confirm("Are you sure?")&&restart()})),function(){var e=localStorage.getItem("playerX");e&&paintSaved("X",currentComboX=JSON.parse(e));var r=localStorage.getItem("playerO");r&&paintSaved("O",currentComboO=JSON.parse(r));var a=localStorage.getItem("player1"),t=localStorage.getItem("player2");a&&t&&(setPlayers(a,t),showField());var l=localStorage.getItem("activePlayer");l&&(currentSymbol=JSON.parse(l))}();
//# sourceMappingURL=index.0a071886.js.map
